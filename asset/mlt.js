(function(exoDynamicParams) {!function(){var e=null===window.AdProvider?[]:window.AdProvider,t={name:exoDynamicParams.network,syndication:exoDynamicParams.syndication,asyncScriptInfoTag:exoDynamicParams.asyncScriptInfoTag,tcfEnabled:exoDynamicParams.tcfEnabled,hash:exoDynamicParams.hash,shortHash:exoDynamicParams.shortHash};(Array.isArray(window.AdProvider)||void 0===window.AdProvider)&&(window.AdProvider=function(){var e,r,n=[],a=[],o=null,i=18e5,s={container:[],content:[]},l=[],d={},c=0,p=[],u=[],f=[],h=[],y=[],v=null,m=null,g=!1,w=!1,b=[],_=window,O={},P=function(e){var t=(new Date).toISOString()+": "+e;console.log(t),b.push(t)};function A(e){var t={};try{t="string"==typeof e.data?JSON.parse(e.data):e.data}catch(e){}var r=t.__tcfapiReturn;r&&"function"==typeof O[r.callId]&&O[r.callId](r.returnValue,r.success)}var z=function(){return{gdpr:0}},I=function(e){return{gdpr:e.gdprApplies?1:0,consent:e.tcString}},x=function(e){return e?y:u},S=function(e,t){for(var r="",n=t||"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<e;a++)r+=n.charAt(Math.floor(Math.random()*n.length));return r},j=function(e){var t={"data-zoneid":{apiKey:"id",toApiParser:parseInt},"data-sub":{apiKey:"sub",toApiParser:parseInt},"data-sub2":{apiKey:"sub2",toApiParser:parseInt},"data-sub3":{apiKey:"sub3",toApiParser:parseInt},"data-keywords":{apiKey:"keywords"}},r={custom_targeting:{}};e.getAttributeNames().forEach((n=>{if(t[n]){var a=t[n],o=e.getAttribute(n);Object.prototype.hasOwnProperty.call(a,"toApiParser")&&"function"==typeof a.toApiParser&&(o=a.toApiParser(o)),r[a.apiKey]=o}else if(n.indexOf("data-")>=0){var i=n.replace("data-","");r.custom_targeting[i]=e.getAttribute(n)}}));var n=document.createElement("div");e.parentElement.insertBefore(n,e),N({zone:r,where:n}),e.setAttribute("data-processed",!0)},R=function(e,t){var r=Object.keys(e)[0],n=e[r];switch(r){case"addUnit":N(n);break;case"serve":q(c,n,t);break;default:P("Action not recognized by AdProvider: "+r)}},E=function(e,t){if(void 0===t){for(var r=0;r<n.length;r++)R(e,n[r]);a.push(e)}else R(e,t)},N=function(e){if(void 0!==e.where&&null!==e.where){var t=null;if(Object.prototype.hasOwnProperty.call(e,"zone"))t=[e.zone];else{if(!Object.prototype.hasOwnProperty.call(e,"multiZone"))return void P("The type of unit wasn't recognized: "+JSON.stringify(e));t=e.multiZone.zones}var r={zones:t,here:e.where};if(Array.isArray(p[c])||(p[c]=[]),!Object.prototype.hasOwnProperty.call(r,"here")||!r.here){var n=document.getElementsByTagName("script");r.here=n[n.length-1]}var a=p[c].length;P("Request #"+c+" Placement #"+a+" was pushed with zone "+JSON.stringify(e.zone));var o=function(e,t,r){var n=S(1,"abcdefghijklmnopqrstuvwxyz")+S(7);r="."+n+" "+r;var a=e.createElement("style");return a.setAttribute("type","text/css"),a.innerHTML=r,"SCRIPT"!==t.tagName||"script"!==t.tagName?t.appendChild(a):t.parentNode.insertBefore(a,t),n}(document,r.here,"{ vertical-align:top;border: 0px solid #000000;display: inline-block;background-color: rgba(0, 0, 0, 0);margin: 0px 0px;padding: 0px 0px;max-width: 100%;}"),i=document.createElement("div");i.setAttribute("class",o),r.here.appendChild(i),r.placeholder=i,k(r)&&p[c].push(r)}else P("The property 'where' is required on the addUnit. "+JSON.stringify(e))},k=function(e){for(var t=p[c].length,r=0;r<e.zones.length;r++){var n=e.zones[r];if(Object.prototype.hasOwnProperty.call(n,"group")){for(var a=0;a<n.group.length;a++)if(!D(n.group[a],t,r,a))return!1}else if(!D(n,t,r))return!1;P("Request #"+c+" Placement #"+t+" was pushed with properties "+JSON.stringify(n))}return!0},D=function(e,t,r,n){if(!Object.prototype.hasOwnProperty.call(e,"id")){var a="Request #"+c+" Placement #"+t;return void 0!==n&&(a+=" Group #"+n),a+=" Zone #"+r+" does not have required property 'id'. It was pushed with properties "+JSON.stringify(e),P(a),!1}return!0},q=function(e,t,n){if(null==m)return function(e){Object.prototype.hasOwnProperty.call(e,"initial_cmp_mode")&&"load_ads"===e.initial_cmp_mode&&(g=!0)}(t),void function(e,t){e.tcfEnabled?(function(){if("undefined"==typeof __tcfapi){if(function(){for(;_;){try{if(_.frames.__tcfapiLocator){r=_;break}}catch(e){console.log("CMP not found.")}if(_===window.top)break;_=_.parent}window.addEventListener("message",A,!1)}(),!r)return;window.__tcfapi=function(e,t,n,a){var o=Math.random()+"",i={__tcfapiCall:{command:e,parameter:a,version:t,callId:o}};O[o]=n,r.postMessage(i,"*")}}}(),"undefined"==typeof __tcfapi?(m=z(),t()):__tcfapi("addEventListener",2,(function(e,r){if(r){var n=null===m;v=e,"loaded"===e.cmpStatus&&!1===e.gdprApplies&&(m=z(),n&&t(),__tcfapi("removeEventListener",2,(function(){}),e.listenerId)),g?(m=I(v),n&&t()):"tcloaded"!==e.eventStatus&&"useractioncomplete"!==e.eventStatus||(m=I(v),n&&t(),__tcfapi("removeEventListener",2,(function(){}),e.listenerId))}}))):(m=z(),t())}(n,(function(){C(e,t,n)}));C(e,t,n)},C=function(e,t,r){if(function(e){var t=["ins.adsby"+e.name+":not([data-processed=true])","ins.eas"+e.hash+":not([data-processed=true])","ins.eas"+e.shortHash+":not([data-processed=true])"],r=document.querySelectorAll(t.join(","));for(let e=0;e<r.length;e++){var n=r[e],a=n.getAttribute("data-zoneid");se(exoDynamicParams.zoneClosedCookiePrefix+a)||j(n)}}(r),Object.prototype.hasOwnProperty.call(p,e)&&0!==p[e].length){P("Request #"+e+" is being served.");var n=[];for(var a in p[e])Object.prototype.hasOwnProperty.call(p[e],a)&&(n.push(p[e][a].zones),p[e][a].requestData=t);J(n,t,e,!1,r),c++}else P("Request #"+e+" has no placements to serve.")},T=function(e,t){P("Request #"+t+" from delayed request is being served."),J(e.zones,e.requestData,t,!0)},J=function(r,n,a,i,s){void 0===s&&(s=t),function(e){var t,r,n=o,a=null;null!==n&&"{}"!==n&&(a=JSON.parse(n));var i={};if(null!=a)for(r in a){var s=[];if(Object.prototype.hasOwnProperty.call(a,r))for(t=0;t<a[r].length;t++){var l=parseInt(a[r][t].time);if(l>Date.now()){var d={cid:parseInt(a[r][t].cid),time:l};s.push(d)}}s.length>0&&(i[r]=s)}var c=JSON.stringify(i);if("{}"!==c){for(r in o=c,i)if(Object.prototype.hasOwnProperty.call(i,r))for(t=0;t<e.length;t++)if(parseInt(e[t].id)===parseInt(r)){var p=i[r];if(null==p||!Array.isArray(p))continue;for(var u=[],f=0;f<p.length;f++)u.push(p[f].cid);e[t].cids_viewed=u}}else for(o=null,t=0;t<e.length;t++)delete e[t].cids_viewed}(r);for(var l={user:{ua:navigator.userAgent,language:navigator.language,referer:window.location.href,consumer:"ad-provider",gdpr:m},zones:r},d=["cookieconsent","el","scr_info"],c=0;c<d.length;c++){var p=d[c];Object.prototype.hasOwnProperty.call(n,p)&&(l.user[p]=n[p])}void 0===l.user.scr_info&&(l.user.scr_info=encodeURIComponent(btoa(s.asyncScriptInfoTag)));var u=new XMLHttpRequest;u.onreadystatechange=function(){u.readyState===XMLHttpRequest.DONE&&200===u.status&&M(u.responseText,a,i)},u.open("POST","https://"+s.syndication+"/v1/api.php"),u.withCredentials=!0,u.setRequestHeader("Content-Type","text/plain"),void 0!==e?L(u,l):H().then((t=>{e=t,L(u,l)}))},L=function(t,r){null!==e&&"object"==typeof e&&(r.user.ch_ua=e);try{t.send(JSON.stringify(r))}catch(e){P("error")}},H=function(){return navigator.userAgentData&&navigator.userAgentData.getHighEntropyValues?navigator.userAgentData.getHighEntropyValues(["architecture","bitness","model","platformVersion","fullVersionList"]):new Promise(((e,t)=>{e(null)}))},M=function(e,t,r){P("Request #"+t+" handling the response");var n=JSON.parse(e),a=void 0!==n.errors?n.errors:[],s=x(r);if(Array.isArray(s[t])||(s[t]=[]),void 0!==n.zones){void 0!==n.user&&(f[t]=n.user),l[t]=n.renderers,function(e){var t=o,r={};if(null!==t&&"{}"!==t&&(r=JSON.parse(t)),Array.isArray(e.zones))for(var n=0;n<e.zones.length;n++){var a=e.zones[n];if(null!=a&&Object.prototype.hasOwnProperty.call(a,"idzone")){var s=a.idzone,l=null;if(Object.prototype.hasOwnProperty.call(a,"data")&&null!==a.data&&Object.prototype.hasOwnProperty.call(a.data,"cids_viewed")&&null!==a.data.cids_viewed&&(l=a.data.cids_viewed),null!==l&&Array.isArray(l))for(var d=0;d<l.length;d++){var c=null;if(Object.prototype.hasOwnProperty.call(r,s)){for(var p=null,u=0;u<r[s].length;u++)parseInt(l[d])===parseInt(r[s][u].cid)&&(p=u,c=r[s][u].time,r[s][u].time=c);if(null===p){c=new Date((new Date).getTime()+i).getTime();var f={cid:parseInt(l[d]),time:parseInt(c)};r[s].push(f)}}else{c=new Date((new Date).getTime()+i).getTime();var h={cid:parseInt(l[d]),time:parseInt(c)};r[s]=[h]}}}}var y=JSON.stringify(r);"{}"!==y&&(o=y)}(n);for(var d=0;d<n.zones.length;d++){var c=n.zones[d];if(null!=c){if(Object.prototype.hasOwnProperty.call(c,"group")){for(var p=0;p<c.group.ad_items.length;p++)if(!V(c.group.ad_items[p],t,a,d,p)){s[t][d]=null;break}}else if(!V(c,t,a,d,void 0)){s[t][d]=null;continue}s[t][d]=c}else void 0!==a[d]&&P("Request #"+t+" Placement #"+d+" had these errors on API request:"+JSON.stringify(a[d])),s[t][d]=null}X(t,r)}else P("Request #"+t+" had these errors on API request:"+JSON.stringify(a))},V=function(e,t,r,n,a){if(null==e){if(void 0!==a&&void 0!==r[n][a])return P("Request #"+t+" Placement #"+n+" Group #"+a+" had these errors on API request:"+JSON.stringify(r[n][a])),!1;if(void 0!==r[n])return P("Request #"+t+" Placement #"+n+" had these errors on API request:"+JSON.stringify(r[n])),!1}if(null===e.data){var o="Request #"+t+" Placement #"+n;return void 0!==a&&(o+=" Group #"+a),P(o+=" has no ads to display"),!1}return!0},U=function(e,t){var r=t.original_zone?t.original_zone.type:t.type;if(void 0===l[e][r]||void 0===l[e][r].container)return null;var n=Z(l[e][r].container);return s.container[n]},K=function(e,t){if(void 0===l[e][t.type]||void 0===l[e][t.type].content)return null;var r=Z(l[e][t.type].content);return s.content[r]},X=function(e,t){for(var r=B(e,t),n=F(e).cookieconsent,a=0;a<r.length;a++){var o=r[a],i=U(e,o),s=K(e,o),l=null;if(i){var d=i.call(null,e,o,t,n);Array.isArray(d)&&d.length>0&&(l=d[0])}else l=o.dom.placeholder;s&&l&&s.call(null,e,o,l,n)}},B=function(e,t){var r,n=[],a=function(e){return e?h:p}(t),o=x(t),i=s.container.group;for(var l in o[e])if(Object.prototype.hasOwnProperty.call(o[e],l)){var d=o[e][l];if(null!==d){var c=d.type;if(void 0!==d.group){var u=a[e][l].placeholder;ee(d,u);for(var f={dom:{placeholder:u,doc_reference:document},orientation:d.group.orientation,ad_items:d.group.ad_items},y=i.call(null,e,f),v=0;v<f.ad_items.length;v++)r=ae(f.ad_items[v],y[v],document),oe(r),te(r)&&ne(r,e,l,t),n.push(r)}else{var m=a[e][l];if(G(d)){if(w&&!t)continue;w=!0}"in_page_push_notification"===c&&$(m,d.data);var g=m.placeholder;if(W(r=ae(d,g,document),c)&&oe(d),Y(r)&&!0===r.data.stop_refresh){n.push(r),Q(m,r);continue}!1===te(r)&&ee(d,g),n.push(r),te(r)&&ne(r,e,l,t)}}}return n};function G(e){var t=e.type;if("instant_message"===t||"mobile_instant_message"===t)return!0;if(void 0!==e.original_zone){var r=e.original_zone.type;if("instant_message"===r||"mobile_instant_message"===r)return!0}return!1}function Z(e){if(d[e])return d[e];var t=e.substring(e.lastIndexOf("/")+1).split(".")[0];return d[e]=t,t}function Q(e,t){const r=e.zones.findIndex((function(e){return JSON.stringify(e.id)==JSON.stringify(t.idzone)}));return-1!==r&&void 0!==e.zones[r]&&void 0!==e.zones[r].extra_params&&void 0!==e.zones[r].extra_params.refresh_iteration&&(e.zones[r].extra_params.refresh_iteration=-1),e}function Y(e){return!0===e.data.stop_refresh||!0===e.data.campaign_already_displayed}function W(e,t){if(Object.prototype.hasOwnProperty.call(e.data,"capping")){var r=parseInt(se("zone-cap-"+e.idzone));if(isNaN(r)&&(r=0),e.data.capping>0&&r>=e.data.capping)return!1}var n=!1;Object.prototype.hasOwnProperty.call(e.data,"isVast")&&(n=e.data.isVast);var a=!0!==e.data.campaign_already_displayed&&"in_page_push_notification"!==t;return n?a:a&&"outstream_video"!==t}function F(e){return f[e]}var $=function(e,t){t.notificationDisplayedCount=0,Object.prototype.hasOwnProperty.call(e,"notificationDisplayedCount")&&(t.notificationDisplayedCount=e.notificationDisplayedCount),t.processNextNotification=function(t){e.notificationDisplayedCount=t;var r=h.length;h.push([e]),T(e,r)}},ee=function(e,t){if(void 0!==e.original_zone){var r=e.original_zone.data.width,n=e.original_zone.data.height;t.parentElement.style.width="100%",t.parentElement.style.maxWidth=r+"px",t.parentElement.style.overflow="hidden",t.parentElement.style.margin="auto",t.parentElement.style.display="inline-block",t.parentElement.style.height="html_banner"===e.data.media?"100%":"auto",t.parentElement.style.maxHeight=n+"px",t.parentElement.style.overflow="hidden",t.parentElement.style.margin="auto",t.parentElement.style.display="inline-block"}},te=function(e){return Object.prototype.hasOwnProperty.call(e.data,"refresh_rate")&&e.data.refresh_rate>0},re=function(e,t){Object.prototype.hasOwnProperty.call(e,"multizoneid")&&(t.multizoneid=e.multizoneid)},ne=function(e,t,r,n){var a,o;n?(a=h[t][r],o=t):(a={placeholder:e.dom.placeholder,requestData:p[t][r].requestData,zones:p[t][r].zones.map((function(t){return t.id=e.idzone,re(e,t),t}))},h.push({0:a}),o=h.length-1),"object"!=typeof a.adRefresher?a.adRefresher=new window.ExoAdsRefresh(e.dom.placeholder,e.idzone,e.data.refresh_rate,T,a,o,e.data.max_number_refresh_iteration):a.adRefresher.performImpressionReset()},ae=function(e,t,r){var n={idzone:e.idzone,type:e.type,dom:{placeholder:t,doc_reference:r},data:e.data};return void 0!==e.original_zone&&(n.original_zone=e.original_zone),re(e,n),n},oe=function(e){if(null!==e.data){var t=e.data,r=!1;Object.prototype.hasOwnProperty.call(t,"isVast")&&(r=t.isVast);var n=!r;if(Object.prototype.hasOwnProperty.call(t,"ad_items")&&Array.isArray(t.ad_items)){var a=t.ad_items;for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&Object.prototype.hasOwnProperty.call(a[o],"impression")&&ie(a[o].impression,e.idzone,o,n)}else Object.prototype.hasOwnProperty.call(t,"impression")&&ie(t.impression,e.idzone,void 0,n)}},ie=function(e,t,r,n){var a=function(e,t){var r="Error tracking the impression from zone "+e;void 0!==t&&(r+=" ad #"+t),P(r)},o=new XMLHttpRequest;o.onreadystatechange=function(){o.readyState===XMLHttpRequest.DONE&&200!=o.status&&a(t,r)},o.open("GET",e),void 0!==n&&!0===n&&(o.withCredentials=!0);try{o.send()}catch(e){a(t,r)}},se=function(e){try{var t,r,n,a=document.cookie.split(";")}catch(e){return}for(t=0;t<a.length;t++)if(r=a[t].substr(0,a[t].indexOf("=")),n=a[t].substr(a[t].indexOf("=")+1),(r=r.replace(/^\s+|\s+$/g,""))===e)return decodeURI(n)};return{handleCurrentNetwork:function(e){var t;for(t=0;t<n.length;t++)if(n[t].name===e.name)return;for(n.push(e),t=0;t<a.length;t++)E(a[t],e)},handleSnippetQueue:function(e){if(Array.isArray(e))for(;e.length>0;)E(e.shift())},push:E,serve:q,getDebugMessages:function(){return b},getUserData:F,formatImage:function(e,t){return t},formatLink:function(e,t){return t},openLink:function(e,t,r,n){var a,o;void 0!==r&&"get"!==r&&"post"!==r&&P("openLink() trying to force invalid method"),void 0!==e&&(e.returnValue=!1,e.preventDefault&&e.preventDefault(),e.stopPropagation()),n&&(t+="&clickX="+e.clientX,t+="&clickY="+e.clientY);var i=r||"get";-1!==t.indexOf("?")?o=function(e){for(var t={},r=e.substring(e.indexOf("?")+1).split("&"),n=0;n<r.length;n++)if(r[n]){var a=r[n].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}((a=t.split("?",2))[1]):(a=[t],o=[]);var s=document.createElement("form");for(var l in s.setAttribute("action",a[0]),s.setAttribute("method",i),s.setAttribute("target","_blank"),document.getElementsByTagName("body").item(0).appendChild(s),o)if(Object.prototype.hasOwnProperty.call(o,l)){var d=document.createElement("input");d.setAttribute("type","hidden"),d.setAttribute("name",l),d.setAttribute("value",o[l]),s.appendChild(d)}return s.submit(),document.getElementsByTagName("body").item(0).removeChild(s),!1},performImpressionTrackings:oe,getCookie:se,setCookie:function(e,t,r,n){r=parseInt(r);var a=new Date;a.setSeconds(a.getSeconds()+r);var o=encodeURI(t)+"; expires="+a.toUTCString()+"; path=/";n&&(o+="; domain="+n),document.cookie=e+"="+o},getRandomizedReference:function(e,t){return"string"!=typeof e||""===e?(P("getRandomizedReference() invalid name, non-empty string expected"),!1):"object"!=typeof t?(P("getRandomizedReference() invalid reference_map, object expected"),!1):(void 0===t[e]&&(t[e]=e),t[e])},scrambleStyleString:function(e,t){return"string"!=typeof e||""===e?(P("scrambleStyleString() invalid style_str, non-empty string expected"),!1):"object"!=typeof t?(P("getRandomizedReference() invalid reference_map, object expected"),!1):e},trackImpression:ie,registerRenderer:function(e,t,r){s[t][e]=r}}}()),AdProvider.handleCurrentNetwork(t),AdProvider.handleSnippetQueue(e),ExoLoader=AdProvider}();!function(){"use strict";function e(){var e,t,a,r,n=window.navigator.userAgent;this.features={webp:!0,mp4:!0},this.features.webp=function(e){var t=e.match(/MSIE/)||e.match(/rv:11/),a=!!e.match(/Firefox\/(\d+)/)&&parseInt(e.match(/Firefox\/(\d+)/)[1])<=64,r=!!e.match(/Version\/(\d+)/)&&parseInt(e.match(/Version\/(\d+)/)[1])<=15,n=!!e.match(/Chrome\/(\d+)/)&&parseInt(e.match(/Chrome\/(\d+)/)[1])<=8,c=!!e.match(/Edge\/(\d+)/)&&parseInt(e.match(/Edge\/(\d+)/)[1])<=17;if(t||a||r||n||c){var o=document.createElement("canvas");return!(!o.getContext||!o.getContext("2d"))&&0===o.toDataURL("image/webp").indexOf("data:image/webp")}return!0}(n),this.features.mp4=(t=(e=n).match(/MSIE [6-8]/),a=!!e.match(/Firefox\/(\d+)/)&&parseInt(e.match(/Firefox\/(\d+)/)[1])<=20,r=!!e.match(/(Opera|OPR)\/(\d+)/)&&parseInt(e.match(/(Opera|OPR)\/(\d+)/)[2])<=24,!(t||a||r)||!!document.createElement("video").canPlayType&&!!document.createElement("video").canPlayType("video/mp4"))}e.prototype.supported=function(e){return this.features[e]},window.ExoSupport=new e}();resolver={options:{maxAllowedVastTagRedirects:3,vastTimeout:5e3},sendRequest:function(e,t,r,i){var a=new XMLHttpRequest;a.onreadystatechange=i,a.open("GET",e,!0),a.withCredentials=t,a.timeout=r,a.send()},processUrl:function(e,t){this.resolveVastTag(e,0,{tracking:[],stopTracking:[],impression:[],clicktracking:[],vastLoaded:!1,videoCta:[]},t)},resolveVastTag:function(e,t,r,i){var a=this;e&&""!=e?(t<=a.options.maxAllowedVastTagRedirects&&a.sendRequest(e,!0,a.options.vastTimeout,(function(){var e=this;if(4!==e.readyState||404!==e.status)if(4!==e.readyState||0!==e.status){if(4===e.readyState&&200===e.status)if(4!==e.readyState||200===e.status){try{var n=e.responseXML}catch(e){return void a.stopProcessAndReportError(5)}if(n){if(a.inLineFound=a.hasInLine(n),!a.inLineFound&&a.hasVastAdTagUri(n)){var s=a.getVastAdTagUriFromWrapper(n);if(!s)return void a.stopProcessAndReportError(7);a.resolveVastTag(s,t,r,i)}t>a.options.maxAllowedVastTagRedirects&&!a.inLineFound?a.stopProcessAndReportError(8):a.processVastXml(n,r,i)}else a.stopProcessAndReportError(6)}else a.stopProcessAndReportError(4)}else a.stopProcessAndReportError(3);else a.stopProcessAndReportError(2)})),t++):a.stopProcessAndReportError(1)},processVastXml:function(e,t,r){var i=this;if(e){var a=e.getElementsByTagName("Impression");null!==a&&i.registerImpressionEvents(a,t);var n=e.getElementsByTagName("Error");null!==n&&i.registerErrorEvents(n,t);var s=null,o=null,l=null,g=e.getElementsByTagName("Extensions");if(g.length&&g[0].getElementsByTagName("Extension").length){var c=g[0].getElementsByTagName("TitleCTA");if(c.length){var d=c[0].getElementsByTagName("DisplayUrl"),h=c[0].getElementsByTagName("PCText"),u=c[0].getElementsByTagName("Tracking");null!=d&&(s=this.extractNodeData(d[0])),null!=h&&(o=this.extractNodeData(h[0])),null!=u&&(l=this.extractNodeData(u[0]));var m={displayUrl:s,ctaText:o,tracking:l};t.videoCta.push(m)}}var p=e.getElementsByTagName("Creative");if(void 0!==p&&p.length){var v,T=p[0].getElementsByTagName("Linear");if(null!=T&&T.length){var f=T[0];i.registerTrackingEvents(f,t),v=i.getClickTrackingEvents(f),i.registerClickTracking(v,t),!i.hasVastAdTagUri(e)&&i.hasInLine(e)&&(t.adFinished=!1,t.adType="linear",t.skipoffset=i.convertTimeStringToSeconds(f.getAttribute("skipoffset")),t.clickthroughUrl=i.getClickThroughUrlFromLinear(f),t.duration=i.getDurationFromLinear(f),t.mediaFile=i.getMediaFileFromLinear(f),t.mediaFileDetails=i.getMediaFileAttributesFromLinear(f),t.iconClick=i.getIconClickThroughFromLinear(f))}var y=p[0].getElementsByTagName("NonLinearAds");if(null!=y&&y.length){var N=y[0];i.registerTrackingEvents(N,t),v=i.getNonLinearClickTrackingEvents(N),i.registerClickTracking(v,t),!i.hasVastAdTagUri(e)&&i.hasInLine(e)&&(t.adType="nonLinear",t.clickthroughUrl=i.getClickThroughUrlFromNonLinear(N),t.duration=i.getDurationFromNonLinear(N),t.dimension=i.getDimensionFromNonLinear(N),t.staticResource=i.getStaticResourceFromNonLinear(N),t.creativeType=i.getCreativeTypeFromStaticResources(N))}!i.hasVastAdTagUri(e)&&i.hasInLine(e)&&(void 0!==t.mediaFile||void 0!==t.staticResource?r(t):i.stopProcessAndReportError(10))}else i.stopProcessAndReportError(11)}else i.stopProcessAndReportError(9)},registerTrackingEvents:function(e,t){for(var r=this.getTrackingFromLinear(e),i="",a=0,n=0;n<r.length;n++)switch(i=r[n].getAttribute("event")){case"start":case"firstQuartile":case"midpoint":case"thirdQuartile":case"complete":void 0===t.tracking[i]&&(t.tracking[i]=[]),void 0===t.stopTracking[i]&&(t.stopTracking[i]=[]),t.tracking[i].push(r[n].childNodes[0].nodeValue),t.stopTracking[i]=!1;break;case"progress":void 0===t.tracking[i]&&(t.tracking[i]=[]),a=this.convertTimeStringToSeconds(r[n].getAttribute("offset")),void 0===t.tracking[i][a]&&(t.tracking[i][a]={elements:[],stopTracking:!1}),t.tracking[i][a].elements.push(r[n].childNodes[0].nodeValue)}},stopProcessAndReportError:function(e){console.log("VAST: failed with error "+e)},hasInLine:function(e){var t=e.getElementsByTagName("InLine");return void 0!==t&&t.length},hasVastAdTagUri:function(e){var t=e.getElementsByTagName("VASTAdTagURI");return void 0!==t&&t.length},extractNodeData:function(e){for(var t="",r=0;r<e.childNodes.length;r++){var i=e.childNodes[r];8===i.nodeType||3===i.nodeType&&/^\s*$/.test(i.nodeValue)||(t+=i.nodeValue)}return t.replace(/(^\s+|\s+$)/g,"")},getVastAdTagUriFromWrapper:function(e){var t=e.getElementsByTagName("Wrapper");if(void 0!==t&&t.length){var r=t[0].getElementsByTagName("VASTAdTagURI");if(r.length)return this.extractNodeData(r[0])}return!1},getMediaFilesFromLinear:function(e){var t=e.getElementsByTagName("MediaFiles");return t.length?t[0].getElementsByTagName("MediaFile"):[]},getMediaFileFromLinear:function(e){var t,r=this.getMediaFilesFromLinear(e);return r.length&&(t=this.extractNodeData(r[0])),t},getIconClickThroughFromLinear:function(e){var t=e.getElementsByTagName("IconClickThrough");return t.length?this.extractNodeData(t[0]):(void 0!==this.displayOptions&&void 0!==this.displayOptions.vastOptions&&(this.displayOptions.vastOptions.adCTAText=!1),"")},getStaticResourceFromNonLinear:function(e){for(var t,r=this.getStaticResourcesFromNonLinear(e),i=0;i<r.length;i++)if(r[i].getAttribute("type")||(t=this.extractNodeData(r[i])),void 0!==this.displayOptions&&void 0!==this.displayOptions.staticResource&&r[i].getAttribute("type")===this.displayOptions.staticResource)return this.extractNodeData(r[i]);return t},getClickTrackingEvents:function(e){var t=[],r=e.getElementsByTagName("VideoClicks");if(r.length){var i=r[0].getElementsByTagName("ClickTracking");if(i.length)for(var a=0;a<i.length;a++){var n=this.extractNodeData(i[a]);t.push(n)}}return t},getNonLinearClickTrackingEvents:function(e){var t=[];if(e.getElementsByTagName("NonLinear").length){var r=e.getElementsByTagName("NonLinearClickTracking");if(r.length)for(var i=0;i<r.length;i++){var a=this.extractNodeData(r[i]);t.push(a)}}return t},getTrackingFromLinear:function(e){var t=e.getElementsByTagName("TrackingEvents");return t.length?t[0].getElementsByTagName("Tracking"):[]},getDurationFromLinear:function(e){var t=e.getElementsByTagName("Duration");if(t.length&&void 0!==t[0].childNodes[0]){var r=this.extractNodeData(t[0]);return this.convertTimeStringToSeconds(r)}return!1},getDurationFromNonLinear:function(e){var t=0,r=e.getElementsByTagName("NonLinear");return r.length&&void 0!==r[0].getAttribute("minSuggestedDuration")&&(t=this.convertTimeStringToSeconds(r[0].getAttribute("minSuggestedDuration"))),t},getClickThroughUrlFromLinear:function(e){var t=e.getElementsByTagName("VideoClicks");if(t.length){var r=t[0].getElementsByTagName("ClickThrough");if(r.length)return this.extractNodeData(r[0])}return!1},getClickThroughUrlFromNonLinear:function(e){var t="";if(e.getElementsByTagName("NonLinear").length){var r=e.getElementsByTagName("NonLinearClickThrough");r.length&&(t=this.extractNodeData(r[0]))}return t},getDimensionFromNonLinear:function(e){var t={width:null,height:null},r=e.getElementsByTagName("NonLinear");return r.length&&(void 0!==r[0].getAttribute("width")&&(t.width=r[0].getAttribute("width")),void 0!==r[0].getAttribute("height")&&(t.height=r[0].getAttribute("height"))),t},getCreativeTypeFromStaticResources:function(e){var t="",r=e.getElementsByTagName("NonLinear");return r.length&&void 0!==r[0].childNodes[0]&&(t=r[0].getElementsByTagName("StaticResource")[0].getAttribute("creativeType")),t.toLowerCase()},convertTimeStringToSeconds:function(e){if(e&&e.match(/^(\d){2}(:[0-5][0-9]){2}(.(\d){1,3})?$/)){var t=e.split(":");return 3600*parseInt(t[0],10)+60*parseInt(t[1],10)+parseInt(t[2],10)}return!1},registerClickTracking:function(e,t){if(e.length)for(var r=0;r<e.length;r++)""!=e[r]&&t.clicktracking.push(e[r])},registerImpressionEvents:function(e,t){if(e.length)for(var r=0;r<e.length;r++){var i=this.extractNodeData(e[r]);t.impression.push(i)}},registerErrorEvents:function(e,t){null!=e&&1===e.length&&1===e[0].childNodes.length&&(t.errorUrl=e[0].childNodes[0].nodeValue)},getMediaFileAttributesFromLinear:function(e){var t,r,i=this.getMediaFilesFromLinear(e);return i.length&&(t=i[0].getAttribute("delivery"),r=i[0].getAttribute("type")),{delivery:t,type:r}}},streaming={video:null,source:null,dashPlayer:null,hlsPlayer:null,dashScriptLoaded:null,hlsScriptLoaded:null,initialiseStreamers:function(e,t,r){this.video=t,this.source=r,this.detachStreamers();let i=this.determineProtocol();switch(e){case"application/dash+xml":this.dashScriptLoaded?this.initialiseDash():(this.dashScriptLoaded=!0,this.requestScript(i+"://"+exoDynamicParams.adsSubdomain+"/js/vast_dash.js",this.initialiseDash.bind(this)));break;case"application/x-mpegURL":case"application/vnd.apple.mpegurl":this.hlsScriptLoaded||window.Hls?this.initialiseHls():(this.hlsScriptLoaded=!0,this.requestScript(i+"://"+exoDynamicParams.adsSubdomain+"/js/vast_hls.js",this.initialiseHls.bind(this)))}},initialiseDash:function(){this.dashPlayer=dashjs.MediaPlayer().create(),this.dashPlayer.updateSettings({debug:{logLevel:dashjs.Debug.LOG_LEVEL_NONE}}),this.dashPlayer.initialize(this.video,this.source.getAttribute("src"),!1)},initialiseHls:function(){if(Hls.isSupported()){var e=new Hls({p2pConfig:{logLevel:!1},enableWebVTT:!1,enableCEA708Captions:!1,maxMaxBufferLength:10,maxBufferSize:20971520});e.attachMedia(this.video),e.loadSource(this.source.getAttribute("src")),this.hlsPlayer=e}else console.log("Media type not supported by this browser. (application/x-mpegURL)")},detachStreamers:function(){this.dashPlayer?(this.dashPlayer.reset(),this.dashPlayer=!1):this.hlsPlayer&&(this.hlsPlayer.detachMedia(),this.hlsPlayer=!1)},requestScript:function(e,t){var r=document.getElementsByTagName("head")[0],i=document.createElement("script");i.type="text/javascript",i.src=e,i.onreadystatechange=t,i.onload=t,r.appendChild(i)},determineProtocol:function(){return"https:"===location.protocol?"https":"http"}},window.VastSupport={VastResolver:resolver,VastStreaming:streaming};/*! npm.im/iphone-inline-video 2.2.2 */
